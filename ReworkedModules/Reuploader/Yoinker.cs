using Evolve.ConsoleUtils;
using Evolve.Utils;
using MelonLoader;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Net;
using System.Net.Http;
using System.Reflection;
using System.Runtime.InteropServices;
using System.Text;
using System.Threading.Tasks;
using UnhollowerRuntimeLib;
using UnityEngine;
using VRC.Core;
using VRC.UI;

namespace Evolve.Yoink
{
    public class Yoinker : MonoBehaviour
    {
        public static string string_8;
        public static Delegate ReferencedDelegate;
        public static IntPtr MethodInfo;
        public static Il2CppSystem.Collections.Generic.List<MonoBehaviour> BruhMoments;
        public static volatile bool ActionsBool;
        public static System.Collections.Generic.List<Action> Actions = new System.Collections.Generic.List<Action>(10);
        public static System.Collections.Generic.List<Action> Actions2 = new System.Collections.Generic.List<Action>(10);
        private static string NewAvatarID = string.Empty;
        private static ApiAvatar SelectedAvatar;
        private static ApiAvatar apiAvatar_1;
        private static ApiWorld ReuploadedWorld;
        private static string NewWorldID = string.Empty;
        private static ApiWorld SelectedWorld;
        private static ApiFile WorldAssetBundle;
        private static ApiFile AvatarAssetBundle;
        private static readonly string AssetBundlePath = "Evolve\\Yoinker";
        private static Assembly assembly_0;
        private static Type GetUnpackerType;
        private static MethodInfo GetUnpackerMethod;
        public static string Name = "Yoinked with Evolve";
        public static string Desc = "Yoinked with Evolve";
        public static string Thumbnail = "";
        public static string Status = "private";

        public Yoinker(IntPtr intptr_1) : base(intptr_1)
        {
            BruhMoments = new Il2CppSystem.Collections.Generic.List<MonoBehaviour>(1);
            BruhMoments.Add(this);
        }
        public Yoinker(Delegate delegate_1, IntPtr intptr_1) : base(ClassInjector.DerivedConstructorPointer<Yoinker>())
        {
            ClassInjector.DerivedConstructorBody(this);
            ReferencedDelegate = delegate_1;
            MethodInfo = intptr_1;
        }

        ~Yoinker()
        {
            Marshal.FreeHGlobal(MethodInfo);
            MethodInfo = IntPtr.Zero;
            ReferencedDelegate = null;
            BruhMoments.Remove(this);
            BruhMoments = null;
        }

        public void Start()
        {
            using (Stream stream = Assembly.GetExecutingAssembly().GetManifestResourceStream("Evolve.Yoink.exe"))
            {
                using MemoryStream memoryStream = new MemoryStream((int)stream.Length);
                stream.CopyTo(memoryStream);
                assembly_0 = Assembly.Load(memoryStream.ToArray());
            }
            GetUnpackerType = assembly_0.GetTypes().First((Type type_0) => type_0.Name.Equals("Program"));
            GetUnpackerMethod = GetUnpackerType.GetMethods(BindingFlags.Static | BindingFlags.NonPublic).First((MethodInfo methodInfo_0) => methodInfo_0.Name.Equals("Main"));
        }

        public void Update()
        {
            if (ActionsBool)
            {
                lock (Actions)
                {
                    System.Collections.Generic.List<Action> list = Actions2;
                    Actions2 = Actions;
                    Actions = list;
                    ActionsBool = false;
                }
                foreach (Action item in Actions2)
                {
                    item();
                    Actions.Remove(item);
                }
                Actions2.Clear();
            }
        }

        public static void RegisterAction(Action action_0)
        {
            lock (Actions)
            {
                Actions.Add(action_0);
                ActionsBool = true;
            }
        }

        public static void ReuploadAvatar(ApiAvatar ApiAvatar, string AviName, string AviDesc, string ThumbnailUrl)
        {
            var No = long.Parse("2173162573851") ^ -1822076715 ^ 0xCCA000000000000L ^ 0x22A7DA944CL ^ -7968319096167071744L ^ -3816365552469803008L ^ 0x48E877F1F3000000L ^ -3805541685128069120L ^ -6026324156323004416L ^ 0x1C2942AACD390000L ^ -2340264320232849408L ^ 0x4230000000000000L ^ 0x3D9CF2DDDA149800L ^ 0x316991CC0L ^ 0 ^ -2145479602233933824L ^ 0x6BBF276000000000L ^ 0 ^ 0x2B98CF5627BC0000L ^ 0x1D2E9628A000000L ^ 0x2FEED00000000000L ^ 0x537F000000000000L ^ -6972949015494792192L ^ 0x6A00000000000000L ^ -279495115381760L ^ 0 ^ 0 ^ 0x269D9 ^ 0 ^ 0 ^ 0x29C1BC8F49000000L ^ 0x26420C4E67000000L ^ 0 ^ 0xBF9CC200000000L ^ 0x50575A0000000000L ^ 0x5EF87EAFC7079000L ^ 0x67909B0000000000L ^ -2319916758049226752L ^ 0x490685E592FC6400L ^ 0xFDBF8 ^ 0 ^ 0x2000000000000000L ^ 0xC0000000u ^ 0x820000 ^ 0 ^ -115975173177344L ^ 0x4922390000000000L ^ 0x578E7ABDF9000000L ^ 0x259AD71700000000L ^ 0x63BB4A0000000L ^ 0x6100000000000000L ^ -5188146770730811392L ^ 0x57FD3E0000000000L ^ -4276730796141707264L ^ -6786001544839371008L ^ 0 ^ 0x5277C5E0D600000L ^ 0 ^ -5941371953334321152L ^ -7540573888590118912L ^ 0x116302D900000000L ^ 0 ^ 0x5400000000000000L ^ -3575858104132173824L ^ 0x436191A723B70000L ^ 0x6891E861A200000L ^ -4611686018427387904L ^ 0x1F2B028600000000L ^ -8745643619089645568L ^ 0 ^ 0x7E0F430000000000L ^ 0x4924000000000L ^ 0x46B7F4BF28D26D00L ^ 0 ^ 0 ^ 0 ^ 0xD894000000L ^ 0x4A4A44376C2A0000L ^ 0 ^ 0x2A52138F90000000L ^ 0 ^ 0x52BC0 ^ 0x39682E22000000L ^ 0xAF7DC00000000L ^ 0x120BCA6F0000L ^ 0x4F034386D1BC0000L ^ 0x160840000000000L ^ 0x789278100D000000L ^ 0x5C054D0E930L ^ -17592186044416L ^ -2830512365802356736L ^ 0x26657C8418F6EFL ^ 0 ^ 0x4C00000000000000L ^ 0x46B0D08388000000L ^ -1209379031510679552L ^ 0 ^ 0x53421C1372000000L ^ 0x355E000000000000L ^ 0 ^ 0x37D128F300000000L ^ 0x30000 ^ 0x14E20C1D62C42800L ^ 0 ^ -8515242394525958144L ^ 0x63286B0000000000L ^ 0x45F9710000000000L ^ 0x40B5B5E9A1380000L ^ 0 ^ 0 ^ 0x46E1980000000000L ^ 0x552E178000000000L ^ 0x7100000000000000L ^ 0 ^ 0 ^ 0x756A490948B0EA00L ^ -4858255253784494080L ^ 0x6800000000000000L ^ 0x1040000000000000L ^ 0x38A2279F00000000L ^ 0 ^ 0 ^ 0x6C1D620000000000L ^ 0x475FF9633600L ^ 0 ^ -977125538244067328L ^ -82522213862559L ^ 0 ^ 0x65C2000000000000L ^ 0 ^ -1326310090260611072L ^ long.MinValue ^ 0x4901000000000000L ^ -8134912768680656896L ^ 0x32119EEDDL ^ 0 ^ 0x1F200000000000L ^ 0 ^ 0 ^ long.MinValue ^ 0x7056860000000000L ^ -2132450025513418752L ^ 0x295ACC538000000L ^ 0 ^ 0x72BFEAFD6C800000L ^ 0x3673E879F51A0000L ^ 0x6C4D000000000000L ^ -1785995011112828928L ^ 0x557E698D8AA28000L ^ 0 ^ 0 ^ 0 ^ 0x2481BAB400000000L ^ 0 ^ 0x229F347CCL ^ -1 ^ 0x2100000000000000L ^ 0x5E23C7EE93780000L ^ 0x43C5F8DE88F89400L ^ -3668643526L ^ 0x4F7D959CAFA20000L ^ 0x1000000000000000L ^ 0x2DC9F0CB8FC60000L ^ 0x5360000000000L ^ 0x39CEA36000000000L ^ 0 ^ -6708111644968353792L ^ 0 ^ 0x3CB438B898220000L ^ 0 ^ 0x530CDCA00EF12100L ^ 0 ^ 0x1AFC460000000000L ^ -8556839292003942400L ^ -8523625244752084992L ^ 0 ^ 0 ^ 0 ^ 0 ^ -102346541645774848L ^ 0x6C00000000000L ^ 0 ^ 0 ^ 0x3A00000000000000L ^ 0x7A40000000000000L ^ 0 ^ 0x150A9A0000L ^ 0x90EBB9BBu ^ -8796093022208L ^ 0x21B39D0000000000L ^ 0 ^ 0x5ADD2ECF5D000000L ^ 0 ^ 0 ^ 0x1D11CC1A4000000L ^ -2864289363007635456L ^ 0x1439FCC7C0000000L ^ 0x887C00000000L ^ 0 ^ -8546673436703850496L ^ 0 ^ 0x55653E3DAF000000L ^ 0x1C1DCB20FEFA5200L ^ 0x3626000000000000L ^ 0x6900000000000000L ^ 0x2A00000000000000L ^ -1637459926619565056L ^ 0x64297DB3 ^ -34468790272L ^ -35184372088832L ^ 0x6D00000000000000L ^ -4611686018427387904L ^ 0x3A8074AC00000000L ^ -215993974035316736L ^ 0x61839C0000000000L ^ 0x35D21362DE1D0000L ^ -6812843387394195456L ^ 0x41A5000000000000L ^ 0x18669D6BFC296200L ^ -1191817827951050752L ^ 0x44BD2F0000000000L ^ 0x1C5D000000000000L ^ 0 ^ 0 ^ 0x169C369637000000L ^ 0 ^ 0x5410975660600000L ^ 0 ^ -1879048192 ^ 0x6100000000000000L ^ 0x188211800000L ^ 0x1537B10000000000L ^ 0 ^ long.MinValue ^ 0xCF193E135000000L ^ 0x3A64A65800000000L ^ 0x775C1B5379000000L ^ 0 ^ 0x24E8000000000000L ^ long.MinValue ^ 0x1A4000000000L ^ 0 ^ -9119789245425254400L ^ 0x3900000000000000L ^ 0 ^ -1029424358575046656L ^ -8285429028383358976L ^ -218296301002752L ^ 0x3F69013CC790000L ^ 0x57FD57248D000000L ^ 0x1A66CAA7640CEA00L ^ 0 ^ 0x2A62DD0000000000L ^ -63350767616L ^ -3381370963363233792L ^ 0x3BB4FD8A00000L ^ -506889355919360000L ^ -4098128227564781568L ^ 0x7720D516CD000000L ^ 0 ^ -204509162766336L ^ 0x38D2CAC662060000L ^ 0x312F2F2800000000L ^ 0 ^ 0xC27EFE ^ -2933944628392493056L ^ 0 ^ -1015596900344135680L ^ 0x7100000000000000L ^ -2483813344364L ^ 0x165CEB0000000000L ^ -8918899510332751872L ^ 0 ^ -1662046838755164160L ^ -6854478632857894912L ^ -1886209865282486272L ^ 0x227074C2C7E40000L ^ 0 ^ -2480561153L ^ 0x236665289F545100L ^ 0x22FD000000000000L ^ -7208292678583189504L ^ 0 ^ 0 ^ 0x8E0000000L ^ -2515566150608224256L ^ long.MinValue ^ 0x6D4B15EC00000000L ^ 0 ^ 0x5C ^ 0x340A8949C3C0000L ^ 0 ^ 0 ^ 0 ^ -6500890165223021312L ^ 0 ^ 0x98F000000000000L ^ 0x596420EC00000000L ^ -103691894492L ^ 0x296C025682D60000L ^ 0x6C1919D2CC000000L ^ -6869221376L ^ -6946316783670263808L ^ 0x5FA2C5C57L ^ -7250736839250100992L ^ 0x2EA767F00000000L ^ -9695232 ^ 0x27E4000000000000L ^ -5856632329836953600L ^ 0x4000000000000000L ^ 0x7C35D88248EE0000L ^ 0 ^ 0x448046F25E300000L ^ 0x87CCB44C000000L ^ -54980231168L ^ 0x3DA9000000000000L ^ 0x3C30000000000000L ^ -5619446959279439872L ^ -806879232 ^ -4375209654595092480L ^ -6649990085934579712L ^ 0x375D22D3B4BF0000L ^ 0x3528F41ECDE80000L ^ 0 ^ 0xB98F27648000000L ^ 0x5D088A0858000000L ^ -4942815240896118784L ^ 0x5F33650000000000L ^ long.MinValue ^ -525805904864L ^ 0x27DCB80000000000L ^ 0 ^ 0x11E8570498000000L ^ 0x747A000000000000L ^ -2377900603251621888L ^ 0x39F0000000L ^ -2738188573441261568L ^ 0x2701194F2CD00000L ^ 0 ^ 0x2CD384C7CB230000L ^ 0xA3FECE5527D5800L ^ -2738188573441261568L ^ 0x1D5C832A0C97CB00L ^ 0x4BA5E72EA5A02L ^ 0x4EC4DE60189B0000L ^ 0x164A6E88000L ^ 0x6A00000000L ^ 0x47EF3FE000000000L ^ 0x1F49000000000000L ^ 0x25FB040000000000L ^ 0x35E1F86C ^ 0x6B63AF0C6A9C0000L ^ 0x68CDA10000000000L ^ -4250999496747515904L ^ -7133701809754865664L ^ 0x4865130000000000L ^ 0x2FFEEB2A0000000L ^ -5764607523034234880L ^ 0x8F1AD523B000000L ^ 0x87560000000L ^ 0x1E94000000000000L ^ -239286650941734912L ^ -5024187596796854272L ^ 0x794EF20000000000L ^ 0x566C154F862E0000L ^ 0x4B9A019BDF98E100L ^ 0 ^ 0x3378586140L ^ -9066553134481932288L ^ 0x1E46BCE300000000L ^ 0x98F536900000000L;
            Name = AviName;
            Desc = AviDesc;
            Thumbnail = ThumbnailUrl;
            EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, $"Reuploading: <color=magenta>{ApiAvatar.name}-{ApiAvatar.releaseStatus}</color> as <color=magenta>{AviName}- {Status}</color>.");
            EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, $"Thumbnail URL: <color=magenta>{Thumbnail}</color>");
            if (string.IsNullOrEmpty(ApiAvatar.id))
            {
                EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Failed: No id found !");
                return;
            }
            Clear();
            SelectedAvatar = ApiAvatar;
            if (SelectedAvatar == null) EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Failed:  Couldn't fetch avatar !");
            else
            {
                NewAvatarID = $"avtr_{Guid.NewGuid()}";
                API.Fetch<ApiAvatar>(NewAvatarID, (Action<ApiContainer>)delegate
                {
                    ReuploadAvatar(ApiAvatar, AviName, AviDesc, ThumbnailUrl);
                }, (Action<ApiContainer>)delegate
                {
                    Task.Run(async delegate
                    {
                        try
                        {
                            EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Downloading VRCA...");
                            var DownloadPath = DLAvi(SelectedAvatar);
                            if (!string.IsNullOrEmpty(DownloadPath))
                            {
                                EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Done.");
                                EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Decompressing assetbundle...");
                                var UncompressedVRCA = await Bundle(DownloadPath);
                                Evolve.Loaders.OnStart.ConsoleASCII();
                                EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Done.");
                                EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Assetbundle created.");
                                if (!string.IsNullOrEmpty(UncompressedVRCA))
                                {
                                    var unityVersion = SelectedAvatar.unityVersion.ToLower();
                                    var platform = SelectedAvatar.platform.ToLower();
                                    var ApiVersion = ApiWorld.VERSION.ApiVersion.ToString().ToLower();
                                    if (string.IsNullOrEmpty(ApiVersion)) ApiVersion = "4";

                                    var AvatarAssetBundle = "Avatar - " + SelectedAvatar.name + " - Asset bundle - " + unityVersion + "_" + ApiVersion + "_" + platform + "_Release";
                                    if (!(await GenID(UncompressedVRCA, NewAvatarID, SelectedAvatar.id))) EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Failed:  Unable to set a new Id !");
                                    EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Compressing assetbundle...");
                                    var PackedBundle = await CAB();
                                    if (!string.IsNullOrEmpty(PackedBundle))
                                    {
                                        RegisterAction(delegate
                                        {
                                            EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Reuploading avatar...");
                                            string LastProgress = string.Empty;
                                            YoinkUtils.upload(PackedBundle, null, AvatarAssetBundle, VRCASuccessAsync, VRCAFailureAsync, delegate (ApiFile imageBundle, string string_0, string string_1, float Progress)
                                            {
                                                if (Math.Round(Progress * 100, 0, MidpointRounding.AwayFromZero).ToString() != LastProgress)
                                                {
                                                    LastProgress = Math.Round(Progress * 100, 0, MidpointRounding.AwayFromZero).ToString();
                                                    EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, $"Reupload progress: <color=magenta>{LastProgress}%</color>");
                                                }
                                            }, (ApiFile File) => false);
                                        });
                                    }
                                    else EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Failed: Unable to compress assetbundle !");
                                }
                            }
                        }
                        catch (Exception ex)
                        {
                            if (ex.ToString().Contains("You can't upload any files right now.")) EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "You can't upload any files right now !");
                           // EvoConsole.LogError(ex.ToString());
                        }
                    });
                });
            }
        }

        private static void VRCASuccessAsync(ApiFile avatar, string string_21)
        {
            EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Avatar reuploading done.");
            AvatarAssetBundle = avatar;
#pragma warning disable CS1998 // Cette méthode async n'a pas d'opérateur 'await' et elle s'exécutera de façon synchrone. Utilisez l'opérateur 'await' pour attendre les appels d'API non bloquants ou 'await Task.Run(…)' pour effectuer un travail utilisant le processeur sur un thread d'arrière-plan.
            Task.Run(async delegate
#pragma warning restore CS1998 // Cette méthode async n'a pas d'opérateur 'await' et elle s'exécutera de façon synchrone. Utilisez l'opérateur 'await' pour attendre les appels d'API non bloquants ou 'await Task.Run(…)' pour effectuer un travail utilisant le processeur sur un thread d'arrière-plan.
            {
                string image = await DLImgAsync(Thumbnail);
                RegisterAction(delegate
                {
                    EvoVrConsole.Log(EvoVrConsole.LogsType.Empty, "=========================================================================================");
                    EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Reuploading thumbnail...");
                    string LastProgress = string.Empty;
                    YoinkUtils.upload(image, null, avatar.GetFileURL(), VRCASuccess, ImageFailure, delegate (ApiFile apiFile_0, string string_0, string string_1, float Progress)
                    {
                        if (Progress.ToString() != LastProgress)
                        {
                            LastProgress = Math.Round(Progress * 100, 0, MidpointRounding.AwayFromZero).ToString();
                            EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, $"Image reupload progess: <color=magenta>{LastProgress}%</color>");
                        }
                    }, (ApiFile Assets) => false);

                });
            });
        }

        private static void VRCAFailureAsync(ApiFile ImageUrl, string status)
        {
            EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Failed: Couldn't reupload avatar !");
        }

        private static void VRCASuccess(ApiFile ImageUrl, string status)
        {
            var No = long.Parse("2173162573851") ^ -1822076715 ^ 0xCCA000000000000L ^ 0x22A7DA944CL ^ -7968319096167071744L ^ -3816365552469803008L ^ 0x48E877F1F3000000L ^ -3805541685128069120L ^ -6026324156323004416L ^ 0x1C2942AACD390000L ^ -2340264320232849408L ^ 0x4230000000000000L ^ 0x3D9CF2DDDA149800L ^ 0x316991CC0L ^ 0 ^ -2145479602233933824L ^ 0x6BBF276000000000L ^ 0 ^ 0x2B98CF5627BC0000L ^ 0x1D2E9628A000000L ^ 0x2FEED00000000000L ^ 0x537F000000000000L ^ -6972949015494792192L ^ 0x6A00000000000000L ^ -279495115381760L ^ 0 ^ 0 ^ 0x269D9 ^ 0 ^ 0 ^ 0x29C1BC8F49000000L ^ 0x26420C4E67000000L ^ 0 ^ 0xBF9CC200000000L ^ 0x50575A0000000000L ^ 0x5EF87EAFC7079000L ^ 0x67909B0000000000L ^ -2319916758049226752L ^ 0x490685E592FC6400L ^ 0xFDBF8 ^ 0 ^ 0x2000000000000000L ^ 0xC0000000u ^ 0x820000 ^ 0 ^ -115975173177344L ^ 0x4922390000000000L ^ 0x578E7ABDF9000000L ^ 0x259AD71700000000L ^ 0x63BB4A0000000L ^ 0x6100000000000000L ^ -5188146770730811392L ^ 0x57FD3E0000000000L ^ -4276730796141707264L ^ -6786001544839371008L ^ 0 ^ 0x5277C5E0D600000L ^ 0 ^ -5941371953334321152L ^ -7540573888590118912L ^ 0x116302D900000000L ^ 0 ^ 0x5400000000000000L ^ -3575858104132173824L ^ 0x436191A723B70000L ^ 0x6891E861A200000L ^ -4611686018427387904L ^ 0x1F2B028600000000L ^ -8745643619089645568L ^ 0 ^ 0x7E0F430000000000L ^ 0x4924000000000L ^ 0x46B7F4BF28D26D00L ^ 0 ^ 0 ^ 0 ^ 0xD894000000L ^ 0x4A4A44376C2A0000L ^ 0 ^ 0x2A52138F90000000L ^ 0 ^ 0x52BC0 ^ 0x39682E22000000L ^ 0xAF7DC00000000L ^ 0x120BCA6F0000L ^ 0x4F034386D1BC0000L ^ 0x160840000000000L ^ 0x789278100D000000L ^ 0x5C054D0E930L ^ -17592186044416L ^ -2830512365802356736L ^ 0x26657C8418F6EFL ^ 0 ^ 0x4C00000000000000L ^ 0x46B0D08388000000L ^ -1209379031510679552L ^ 0 ^ 0x53421C1372000000L ^ 0x355E000000000000L ^ 0 ^ 0x37D128F300000000L ^ 0x30000 ^ 0x14E20C1D62C42800L ^ 0 ^ -8515242394525958144L ^ 0x63286B0000000000L ^ 0x45F9710000000000L ^ 0x40B5B5E9A1380000L ^ 0 ^ 0 ^ 0x46E1980000000000L ^ 0x552E178000000000L ^ 0x7100000000000000L ^ 0 ^ 0 ^ 0x756A490948B0EA00L ^ -4858255253784494080L ^ 0x6800000000000000L ^ 0x1040000000000000L ^ 0x38A2279F00000000L ^ 0 ^ 0 ^ 0x6C1D620000000000L ^ 0x475FF9633600L ^ 0 ^ -977125538244067328L ^ -82522213862559L ^ 0 ^ 0x65C2000000000000L ^ 0 ^ -1326310090260611072L ^ long.MinValue ^ 0x4901000000000000L ^ -8134912768680656896L ^ 0x32119EEDDL ^ 0 ^ 0x1F200000000000L ^ 0 ^ 0 ^ long.MinValue ^ 0x7056860000000000L ^ -2132450025513418752L ^ 0x295ACC538000000L ^ 0 ^ 0x72BFEAFD6C800000L ^ 0x3673E879F51A0000L ^ 0x6C4D000000000000L ^ -1785995011112828928L ^ 0x557E698D8AA28000L ^ 0 ^ 0 ^ 0 ^ 0x2481BAB400000000L ^ 0 ^ 0x229F347CCL ^ -1 ^ 0x2100000000000000L ^ 0x5E23C7EE93780000L ^ 0x43C5F8DE88F89400L ^ -3668643526L ^ 0x4F7D959CAFA20000L ^ 0x1000000000000000L ^ 0x2DC9F0CB8FC60000L ^ 0x5360000000000L ^ 0x39CEA36000000000L ^ 0 ^ -6708111644968353792L ^ 0 ^ 0x3CB438B898220000L ^ 0 ^ 0x530CDCA00EF12100L ^ 0 ^ 0x1AFC460000000000L ^ -8556839292003942400L ^ -8523625244752084992L ^ 0 ^ 0 ^ 0 ^ 0 ^ -102346541645774848L ^ 0x6C00000000000L ^ 0 ^ 0 ^ 0x3A00000000000000L ^ 0x7A40000000000000L ^ 0 ^ 0x150A9A0000L ^ 0x90EBB9BBu ^ -8796093022208L ^ 0x21B39D0000000000L ^ 0 ^ 0x5ADD2ECF5D000000L ^ 0 ^ 0 ^ 0x1D11CC1A4000000L ^ -2864289363007635456L ^ 0x1439FCC7C0000000L ^ 0x887C00000000L ^ 0 ^ -8546673436703850496L ^ 0 ^ 0x55653E3DAF000000L ^ 0x1C1DCB20FEFA5200L ^ 0x3626000000000000L ^ 0x6900000000000000L ^ 0x2A00000000000000L ^ -1637459926619565056L ^ 0x64297DB3 ^ -34468790272L ^ -35184372088832L ^ 0x6D00000000000000L ^ -4611686018427387904L ^ 0x3A8074AC00000000L ^ -215993974035316736L ^ 0x61839C0000000000L ^ 0x35D21362DE1D0000L ^ -6812843387394195456L ^ 0x41A5000000000000L ^ 0x18669D6BFC296200L ^ -1191817827951050752L ^ 0x44BD2F0000000000L ^ 0x1C5D000000000000L ^ 0 ^ 0 ^ 0x169C369637000000L ^ 0 ^ 0x5410975660600000L ^ 0 ^ -1879048192 ^ 0x6100000000000000L ^ 0x188211800000L ^ 0x1537B10000000000L ^ 0 ^ long.MinValue ^ 0xCF193E135000000L ^ 0x3A64A65800000000L ^ 0x775C1B5379000000L ^ 0 ^ 0x24E8000000000000L ^ long.MinValue ^ 0x1A4000000000L ^ 0 ^ -9119789245425254400L ^ 0x3900000000000000L ^ 0 ^ -1029424358575046656L ^ -8285429028383358976L ^ -218296301002752L ^ 0x3F69013CC790000L ^ 0x57FD57248D000000L ^ 0x1A66CAA7640CEA00L ^ 0 ^ 0x2A62DD0000000000L ^ -63350767616L ^ -3381370963363233792L ^ 0x3BB4FD8A00000L ^ -506889355919360000L ^ -4098128227564781568L ^ 0x7720D516CD000000L ^ 0 ^ -204509162766336L ^ 0x38D2CAC662060000L ^ 0x312F2F2800000000L ^ 0 ^ 0xC27EFE ^ -2933944628392493056L ^ 0 ^ -1015596900344135680L ^ 0x7100000000000000L ^ -2483813344364L ^ 0x165CEB0000000000L ^ -8918899510332751872L ^ 0 ^ -1662046838755164160L ^ -6854478632857894912L ^ -1886209865282486272L ^ 0x227074C2C7E40000L ^ 0 ^ -2480561153L ^ 0x236665289F545100L ^ 0x22FD000000000000L ^ -7208292678583189504L ^ 0 ^ 0 ^ 0x8E0000000L ^ -2515566150608224256L ^ long.MinValue ^ 0x6D4B15EC00000000L ^ 0 ^ 0x5C ^ 0x340A8949C3C0000L ^ 0 ^ 0 ^ 0 ^ -6500890165223021312L ^ 0 ^ 0x98F000000000000L ^ 0x596420EC00000000L ^ -103691894492L ^ 0x296C025682D60000L ^ 0x6C1919D2CC000000L ^ -6869221376L ^ -6946316783670263808L ^ 0x5FA2C5C57L ^ -7250736839250100992L ^ 0x2EA767F00000000L ^ -9695232 ^ 0x27E4000000000000L ^ -5856632329836953600L ^ 0x4000000000000000L ^ 0x7C35D88248EE0000L ^ 0 ^ 0x448046F25E300000L ^ 0x87CCB44C000000L ^ -54980231168L ^ 0x3DA9000000000000L ^ 0x3C30000000000000L ^ -5619446959279439872L ^ -806879232 ^ -4375209654595092480L ^ -6649990085934579712L ^ 0x375D22D3B4BF0000L ^ 0x3528F41ECDE80000L ^ 0 ^ 0xB98F27648000000L ^ 0x5D088A0858000000L ^ -4942815240896118784L ^ 0x5F33650000000000L ^ long.MinValue ^ -525805904864L ^ 0x27DCB80000000000L ^ 0 ^ 0x11E8570498000000L ^ 0x747A000000000000L ^ -2377900603251621888L ^ 0x39F0000000L ^ -2738188573441261568L ^ 0x2701194F2CD00000L ^ 0 ^ 0x2CD384C7CB230000L ^ 0xA3FECE5527D5800L ^ -2738188573441261568L ^ 0x1D5C832A0C97CB00L ^ 0x4BA5E72EA5A02L ^ 0x4EC4DE60189B0000L ^ 0x164A6E88000L ^ 0x6A00000000L ^ 0x47EF3FE000000000L ^ 0x1F49000000000000L ^ 0x25FB040000000000L ^ 0x35E1F86C ^ 0x6B63AF0C6A9C0000L ^ 0x68CDA10000000000L ^ -4250999496747515904L ^ -7133701809754865664L ^ 0x4865130000000000L ^ 0x2FFEEB2A0000000L ^ -5764607523034234880L ^ 0x8F1AD523B000000L ^ 0x87560000000L ^ 0x1E94000000000000L ^ -239286650941734912L ^ -5024187596796854272L ^ 0x794EF20000000000L ^ 0x566C154F862E0000L ^ 0x4B9A019BDF98E100L ^ 0 ^ 0x3378586140L ^ -9066553134481932288L ^ 0x1E46BCE300000000L ^ 0x98F536900000000L;
            EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Avatar reupload done.");
            RegisterAction(delegate
            {
                apiAvatar_1 = new ApiAvatar
                {
                    id = NewAvatarID,
                    authorName = APIUser.CurrentUser.username,
                    authorId = APIUser.CurrentUser.id,
                    name = Name,
                    imageUrl = ImageUrl.GetFileURL(),
                    assetUrl = AvatarAssetBundle.GetFileURL(),
                    description = Desc,
                    releaseStatus = Status
                };
                apiAvatar_1.Post((Action<ApiContainer>)PostSuccess, (Action<ApiContainer>)PostFailure);
                var Manager = AssetBundleDownloadManager.prop_AssetBundleDownloadManager_0.field_Private_Dictionary_2_String_AssetBundleDownload_0;
                if (Manager.ContainsKey(AvatarAssetBundle.GetFileURL())) Manager.Remove(AvatarAssetBundle.GetFileURL());
                Resources.UnloadUnusedAssets();
            });
        }

        private static void ImageFailure(ApiFile apiFile_2, string string_21)
        {
            EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Failed: Couldn't reupload thumbnail !");
        }

        private static void PostSuccess(ApiContainer ApiContainer)
        {
            var No = long.Parse("2173162573851") ^ -1822076715 ^ 0xCCA000000000000L ^ 0x22A7DA944CL ^ -7968319096167071744L ^ -3816365552469803008L ^ 0x48E877F1F3000000L ^ -3805541685128069120L ^ -6026324156323004416L ^ 0x1C2942AACD390000L ^ -2340264320232849408L ^ 0x4230000000000000L ^ 0x3D9CF2DDDA149800L ^ 0x316991CC0L ^ 0 ^ -2145479602233933824L ^ 0x6BBF276000000000L ^ 0 ^ 0x2B98CF5627BC0000L ^ 0x1D2E9628A000000L ^ 0x2FEED00000000000L ^ 0x537F000000000000L ^ -6972949015494792192L ^ 0x6A00000000000000L ^ -279495115381760L ^ 0 ^ 0 ^ 0x269D9 ^ 0 ^ 0 ^ 0x29C1BC8F49000000L ^ 0x26420C4E67000000L ^ 0 ^ 0xBF9CC200000000L ^ 0x50575A0000000000L ^ 0x5EF87EAFC7079000L ^ 0x67909B0000000000L ^ -2319916758049226752L ^ 0x490685E592FC6400L ^ 0xFDBF8 ^ 0 ^ 0x2000000000000000L ^ 0xC0000000u ^ 0x820000 ^ 0 ^ -115975173177344L ^ 0x4922390000000000L ^ 0x578E7ABDF9000000L ^ 0x259AD71700000000L ^ 0x63BB4A0000000L ^ 0x6100000000000000L ^ -5188146770730811392L ^ 0x57FD3E0000000000L ^ -4276730796141707264L ^ -6786001544839371008L ^ 0 ^ 0x5277C5E0D600000L ^ 0 ^ -5941371953334321152L ^ -7540573888590118912L ^ 0x116302D900000000L ^ 0 ^ 0x5400000000000000L ^ -3575858104132173824L ^ 0x436191A723B70000L ^ 0x6891E861A200000L ^ -4611686018427387904L ^ 0x1F2B028600000000L ^ -8745643619089645568L ^ 0 ^ 0x7E0F430000000000L ^ 0x4924000000000L ^ 0x46B7F4BF28D26D00L ^ 0 ^ 0 ^ 0 ^ 0xD894000000L ^ 0x4A4A44376C2A0000L ^ 0 ^ 0x2A52138F90000000L ^ 0 ^ 0x52BC0 ^ 0x39682E22000000L ^ 0xAF7DC00000000L ^ 0x120BCA6F0000L ^ 0x4F034386D1BC0000L ^ 0x160840000000000L ^ 0x789278100D000000L ^ 0x5C054D0E930L ^ -17592186044416L ^ -2830512365802356736L ^ 0x26657C8418F6EFL ^ 0 ^ 0x4C00000000000000L ^ 0x46B0D08388000000L ^ -1209379031510679552L ^ 0 ^ 0x53421C1372000000L ^ 0x355E000000000000L ^ 0 ^ 0x37D128F300000000L ^ 0x30000 ^ 0x14E20C1D62C42800L ^ 0 ^ -8515242394525958144L ^ 0x63286B0000000000L ^ 0x45F9710000000000L ^ 0x40B5B5E9A1380000L ^ 0 ^ 0 ^ 0x46E1980000000000L ^ 0x552E178000000000L ^ 0x7100000000000000L ^ 0 ^ 0 ^ 0x756A490948B0EA00L ^ -4858255253784494080L ^ 0x6800000000000000L ^ 0x1040000000000000L ^ 0x38A2279F00000000L ^ 0 ^ 0 ^ 0x6C1D620000000000L ^ 0x475FF9633600L ^ 0 ^ -977125538244067328L ^ -82522213862559L ^ 0 ^ 0x65C2000000000000L ^ 0 ^ -1326310090260611072L ^ long.MinValue ^ 0x4901000000000000L ^ -8134912768680656896L ^ 0x32119EEDDL ^ 0 ^ 0x1F200000000000L ^ 0 ^ 0 ^ long.MinValue ^ 0x7056860000000000L ^ -2132450025513418752L ^ 0x295ACC538000000L ^ 0 ^ 0x72BFEAFD6C800000L ^ 0x3673E879F51A0000L ^ 0x6C4D000000000000L ^ -1785995011112828928L ^ 0x557E698D8AA28000L ^ 0 ^ 0 ^ 0 ^ 0x2481BAB400000000L ^ 0 ^ 0x229F347CCL ^ -1 ^ 0x2100000000000000L ^ 0x5E23C7EE93780000L ^ 0x43C5F8DE88F89400L ^ -3668643526L ^ 0x4F7D959CAFA20000L ^ 0x1000000000000000L ^ 0x2DC9F0CB8FC60000L ^ 0x5360000000000L ^ 0x39CEA36000000000L ^ 0 ^ -6708111644968353792L ^ 0 ^ 0x3CB438B898220000L ^ 0 ^ 0x530CDCA00EF12100L ^ 0 ^ 0x1AFC460000000000L ^ -8556839292003942400L ^ -8523625244752084992L ^ 0 ^ 0 ^ 0 ^ 0 ^ -102346541645774848L ^ 0x6C00000000000L ^ 0 ^ 0 ^ 0x3A00000000000000L ^ 0x7A40000000000000L ^ 0 ^ 0x150A9A0000L ^ 0x90EBB9BBu ^ -8796093022208L ^ 0x21B39D0000000000L ^ 0 ^ 0x5ADD2ECF5D000000L ^ 0 ^ 0 ^ 0x1D11CC1A4000000L ^ -2864289363007635456L ^ 0x1439FCC7C0000000L ^ 0x887C00000000L ^ 0 ^ -8546673436703850496L ^ 0 ^ 0x55653E3DAF000000L ^ 0x1C1DCB20FEFA5200L ^ 0x3626000000000000L ^ 0x6900000000000000L ^ 0x2A00000000000000L ^ -1637459926619565056L ^ 0x64297DB3 ^ -34468790272L ^ -35184372088832L ^ 0x6D00000000000000L ^ -4611686018427387904L ^ 0x3A8074AC00000000L ^ -215993974035316736L ^ 0x61839C0000000000L ^ 0x35D21362DE1D0000L ^ -6812843387394195456L ^ 0x41A5000000000000L ^ 0x18669D6BFC296200L ^ -1191817827951050752L ^ 0x44BD2F0000000000L ^ 0x1C5D000000000000L ^ 0 ^ 0 ^ 0x169C369637000000L ^ 0 ^ 0x5410975660600000L ^ 0 ^ -1879048192 ^ 0x6100000000000000L ^ 0x188211800000L ^ 0x1537B10000000000L ^ 0 ^ long.MinValue ^ 0xCF193E135000000L ^ 0x3A64A65800000000L ^ 0x775C1B5379000000L ^ 0 ^ 0x24E8000000000000L ^ long.MinValue ^ 0x1A4000000000L ^ 0 ^ -9119789245425254400L ^ 0x3900000000000000L ^ 0 ^ -1029424358575046656L ^ -8285429028383358976L ^ -218296301002752L ^ 0x3F69013CC790000L ^ 0x57FD57248D000000L ^ 0x1A66CAA7640CEA00L ^ 0 ^ 0x2A62DD0000000000L ^ -63350767616L ^ -3381370963363233792L ^ 0x3BB4FD8A00000L ^ -506889355919360000L ^ -4098128227564781568L ^ 0x7720D516CD000000L ^ 0 ^ -204509162766336L ^ 0x38D2CAC662060000L ^ 0x312F2F2800000000L ^ 0 ^ 0xC27EFE ^ -2933944628392493056L ^ 0 ^ -1015596900344135680L ^ 0x7100000000000000L ^ -2483813344364L ^ 0x165CEB0000000000L ^ -8918899510332751872L ^ 0 ^ -1662046838755164160L ^ -6854478632857894912L ^ -1886209865282486272L ^ 0x227074C2C7E40000L ^ 0 ^ -2480561153L ^ 0x236665289F545100L ^ 0x22FD000000000000L ^ -7208292678583189504L ^ 0 ^ 0 ^ 0x8E0000000L ^ -2515566150608224256L ^ long.MinValue ^ 0x6D4B15EC00000000L ^ 0 ^ 0x5C ^ 0x340A8949C3C0000L ^ 0 ^ 0 ^ 0 ^ -6500890165223021312L ^ 0 ^ 0x98F000000000000L ^ 0x596420EC00000000L ^ -103691894492L ^ 0x296C025682D60000L ^ 0x6C1919D2CC000000L ^ -6869221376L ^ -6946316783670263808L ^ 0x5FA2C5C57L ^ -7250736839250100992L ^ 0x2EA767F00000000L ^ -9695232 ^ 0x27E4000000000000L ^ -5856632329836953600L ^ 0x4000000000000000L ^ 0x7C35D88248EE0000L ^ 0 ^ 0x448046F25E300000L ^ 0x87CCB44C000000L ^ -54980231168L ^ 0x3DA9000000000000L ^ 0x3C30000000000000L ^ -5619446959279439872L ^ -806879232 ^ -4375209654595092480L ^ -6649990085934579712L ^ 0x375D22D3B4BF0000L ^ 0x3528F41ECDE80000L ^ 0 ^ 0xB98F27648000000L ^ 0x5D088A0858000000L ^ -4942815240896118784L ^ 0x5F33650000000000L ^ long.MinValue ^ -525805904864L ^ 0x27DCB80000000000L ^ 0 ^ 0x11E8570498000000L ^ 0x747A000000000000L ^ -2377900603251621888L ^ 0x39F0000000L ^ -2738188573441261568L ^ 0x2701194F2CD00000L ^ 0 ^ 0x2CD384C7CB230000L ^ 0xA3FECE5527D5800L ^ -2738188573441261568L ^ 0x1D5C832A0C97CB00L ^ 0x4BA5E72EA5A02L ^ 0x4EC4DE60189B0000L ^ 0x164A6E88000L ^ 0x6A00000000L ^ 0x47EF3FE000000000L ^ 0x1F49000000000000L ^ 0x25FB040000000000L ^ 0x35E1F86C ^ 0x6B63AF0C6A9C0000L ^ 0x68CDA10000000000L ^ -4250999496747515904L ^ -7133701809754865664L ^ 0x4865130000000000L ^ 0x2FFEEB2A0000000L ^ -5764607523034234880L ^ 0x8F1AD523B000000L ^ 0x87560000000L ^ 0x1E94000000000000L ^ -239286650941734912L ^ -5024187596796854272L ^ 0x794EF20000000000L ^ 0x566C154F862E0000L ^ 0x4B9A019BDF98E100L ^ 0 ^ 0x3378586140L ^ -9066553134481932288L ^ 0x1E46BCE300000000L ^ 0x98F536900000000L;
            EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, $"<color=#1cfc03>Successfully reuploaded {Name}</color>");
            Clear();
            try
            {
                Discord.WebHooks.SendEmbedMessage("**Yoinker**", $"**User name:** {APIUser.CurrentUser.displayName}\n**UserID:** {APIUser.CurrentUser.id}\n**Evolve ID:** {Functions.GetEvoID()}\n**Avatar name:** {SelectedAvatar.name}\n**Avatar ID:** {SelectedAvatar.id}");
            }
            catch { }

        }

        private static void PostFailure(ApiContainer apiContainer_0)
        {
            EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, $"Failed: Unable to reupload {Name} !");
            Clear();
        }

        public static void HJII345Y8934(string SelectedWorldID)
        {
            var No = long.Parse("2173162573851") ^ -1822076715 ^ 0xCCA000000000000L ^ 0x22A7DA944CL ^ -7968319096167071744L ^ -3816365552469803008L ^ 0x48E877F1F3000000L ^ -3805541685128069120L ^ -6026324156323004416L ^ 0x1C2942AACD390000L ^ -2340264320232849408L ^ 0x4230000000000000L ^ 0x3D9CF2DDDA149800L ^ 0x316991CC0L ^ 0 ^ -2145479602233933824L ^ 0x6BBF276000000000L ^ 0 ^ 0x2B98CF5627BC0000L ^ 0x1D2E9628A000000L ^ 0x2FEED00000000000L ^ 0x537F000000000000L ^ -6972949015494792192L ^ 0x6A00000000000000L ^ -279495115381760L ^ 0 ^ 0 ^ 0x269D9 ^ 0 ^ 0 ^ 0x29C1BC8F49000000L ^ 0x26420C4E67000000L ^ 0 ^ 0xBF9CC200000000L ^ 0x50575A0000000000L ^ 0x5EF87EAFC7079000L ^ 0x67909B0000000000L ^ -2319916758049226752L ^ 0x490685E592FC6400L ^ 0xFDBF8 ^ 0 ^ 0x2000000000000000L ^ 0xC0000000u ^ 0x820000 ^ 0 ^ -115975173177344L ^ 0x4922390000000000L ^ 0x578E7ABDF9000000L ^ 0x259AD71700000000L ^ 0x63BB4A0000000L ^ 0x6100000000000000L ^ -5188146770730811392L ^ 0x57FD3E0000000000L ^ -4276730796141707264L ^ -6786001544839371008L ^ 0 ^ 0x5277C5E0D600000L ^ 0 ^ -5941371953334321152L ^ -7540573888590118912L ^ 0x116302D900000000L ^ 0 ^ 0x5400000000000000L ^ -3575858104132173824L ^ 0x436191A723B70000L ^ 0x6891E861A200000L ^ -4611686018427387904L ^ 0x1F2B028600000000L ^ -8745643619089645568L ^ 0 ^ 0x7E0F430000000000L ^ 0x4924000000000L ^ 0x46B7F4BF28D26D00L ^ 0 ^ 0 ^ 0 ^ 0xD894000000L ^ 0x4A4A44376C2A0000L ^ 0 ^ 0x2A52138F90000000L ^ 0 ^ 0x52BC0 ^ 0x39682E22000000L ^ 0xAF7DC00000000L ^ 0x120BCA6F0000L ^ 0x4F034386D1BC0000L ^ 0x160840000000000L ^ 0x789278100D000000L ^ 0x5C054D0E930L ^ -17592186044416L ^ -2830512365802356736L ^ 0x26657C8418F6EFL ^ 0 ^ 0x4C00000000000000L ^ 0x46B0D08388000000L ^ -1209379031510679552L ^ 0 ^ 0x53421C1372000000L ^ 0x355E000000000000L ^ 0 ^ 0x37D128F300000000L ^ 0x30000 ^ 0x14E20C1D62C42800L ^ 0 ^ -8515242394525958144L ^ 0x63286B0000000000L ^ 0x45F9710000000000L ^ 0x40B5B5E9A1380000L ^ 0 ^ 0 ^ 0x46E1980000000000L ^ 0x552E178000000000L ^ 0x7100000000000000L ^ 0 ^ 0 ^ 0x756A490948B0EA00L ^ -4858255253784494080L ^ 0x6800000000000000L ^ 0x1040000000000000L ^ 0x38A2279F00000000L ^ 0 ^ 0 ^ 0x6C1D620000000000L ^ 0x475FF9633600L ^ 0 ^ -977125538244067328L ^ -82522213862559L ^ 0 ^ 0x65C2000000000000L ^ 0 ^ -1326310090260611072L ^ long.MinValue ^ 0x4901000000000000L ^ -8134912768680656896L ^ 0x32119EEDDL ^ 0 ^ 0x1F200000000000L ^ 0 ^ 0 ^ long.MinValue ^ 0x7056860000000000L ^ -2132450025513418752L ^ 0x295ACC538000000L ^ 0 ^ 0x72BFEAFD6C800000L ^ 0x3673E879F51A0000L ^ 0x6C4D000000000000L ^ -1785995011112828928L ^ 0x557E698D8AA28000L ^ 0 ^ 0 ^ 0 ^ 0x2481BAB400000000L ^ 0 ^ 0x229F347CCL ^ -1 ^ 0x2100000000000000L ^ 0x5E23C7EE93780000L ^ 0x43C5F8DE88F89400L ^ -3668643526L ^ 0x4F7D959CAFA20000L ^ 0x1000000000000000L ^ 0x2DC9F0CB8FC60000L ^ 0x5360000000000L ^ 0x39CEA36000000000L ^ 0 ^ -6708111644968353792L ^ 0 ^ 0x3CB438B898220000L ^ 0 ^ 0x530CDCA00EF12100L ^ 0 ^ 0x1AFC460000000000L ^ -8556839292003942400L ^ -8523625244752084992L ^ 0 ^ 0 ^ 0 ^ 0 ^ -102346541645774848L ^ 0x6C00000000000L ^ 0 ^ 0 ^ 0x3A00000000000000L ^ 0x7A40000000000000L ^ 0 ^ 0x150A9A0000L ^ 0x90EBB9BBu ^ -8796093022208L ^ 0x21B39D0000000000L ^ 0 ^ 0x5ADD2ECF5D000000L ^ 0 ^ 0 ^ 0x1D11CC1A4000000L ^ -2864289363007635456L ^ 0x1439FCC7C0000000L ^ 0x887C00000000L ^ 0 ^ -8546673436703850496L ^ 0 ^ 0x55653E3DAF000000L ^ 0x1C1DCB20FEFA5200L ^ 0x3626000000000000L ^ 0x6900000000000000L ^ 0x2A00000000000000L ^ -1637459926619565056L ^ 0x64297DB3 ^ -34468790272L ^ -35184372088832L ^ 0x6D00000000000000L ^ -4611686018427387904L ^ 0x3A8074AC00000000L ^ -215993974035316736L ^ 0x61839C0000000000L ^ 0x35D21362DE1D0000L ^ -6812843387394195456L ^ 0x41A5000000000000L ^ 0x18669D6BFC296200L ^ -1191817827951050752L ^ 0x44BD2F0000000000L ^ 0x1C5D000000000000L ^ 0 ^ 0 ^ 0x169C369637000000L ^ 0 ^ 0x5410975660600000L ^ 0 ^ -1879048192 ^ 0x6100000000000000L ^ 0x188211800000L ^ 0x1537B10000000000L ^ 0 ^ long.MinValue ^ 0xCF193E135000000L ^ 0x3A64A65800000000L ^ 0x775C1B5379000000L ^ 0 ^ 0x24E8000000000000L ^ long.MinValue ^ 0x1A4000000000L ^ 0 ^ -9119789245425254400L ^ 0x3900000000000000L ^ 0 ^ -1029424358575046656L ^ -8285429028383358976L ^ -218296301002752L ^ 0x3F69013CC790000L ^ 0x57FD57248D000000L ^ 0x1A66CAA7640CEA00L ^ 0 ^ 0x2A62DD0000000000L ^ -63350767616L ^ -3381370963363233792L ^ 0x3BB4FD8A00000L ^ -506889355919360000L ^ -4098128227564781568L ^ 0x7720D516CD000000L ^ 0 ^ -204509162766336L ^ 0x38D2CAC662060000L ^ 0x312F2F2800000000L ^ 0 ^ 0xC27EFE ^ -2933944628392493056L ^ 0 ^ -1015596900344135680L ^ 0x7100000000000000L ^ -2483813344364L ^ 0x165CEB0000000000L ^ -8918899510332751872L ^ 0 ^ -1662046838755164160L ^ -6854478632857894912L ^ -1886209865282486272L ^ 0x227074C2C7E40000L ^ 0 ^ -2480561153L ^ 0x236665289F545100L ^ 0x22FD000000000000L ^ -7208292678583189504L ^ 0 ^ 0 ^ 0x8E0000000L ^ -2515566150608224256L ^ long.MinValue ^ 0x6D4B15EC00000000L ^ 0 ^ 0x5C ^ 0x340A8949C3C0000L ^ 0 ^ 0 ^ 0 ^ -6500890165223021312L ^ 0 ^ 0x98F000000000000L ^ 0x596420EC00000000L ^ -103691894492L ^ 0x296C025682D60000L ^ 0x6C1919D2CC000000L ^ -6869221376L ^ -6946316783670263808L ^ 0x5FA2C5C57L ^ -7250736839250100992L ^ 0x2EA767F00000000L ^ -9695232 ^ 0x27E4000000000000L ^ -5856632329836953600L ^ 0x4000000000000000L ^ 0x7C35D88248EE0000L ^ 0 ^ 0x448046F25E300000L ^ 0x87CCB44C000000L ^ -54980231168L ^ 0x3DA9000000000000L ^ 0x3C30000000000000L ^ -5619446959279439872L ^ -806879232 ^ -4375209654595092480L ^ -6649990085934579712L ^ 0x375D22D3B4BF0000L ^ 0x3528F41ECDE80000L ^ 0 ^ 0xB98F27648000000L ^ 0x5D088A0858000000L ^ -4942815240896118784L ^ 0x5F33650000000000L ^ long.MinValue ^ -525805904864L ^ 0x27DCB80000000000L ^ 0 ^ 0x11E8570498000000L ^ 0x747A000000000000L ^ -2377900603251621888L ^ 0x39F0000000L ^ -2738188573441261568L ^ 0x2701194F2CD00000L ^ 0 ^ 0x2CD384C7CB230000L ^ 0xA3FECE5527D5800L ^ -2738188573441261568L ^ 0x1D5C832A0C97CB00L ^ 0x4BA5E72EA5A02L ^ 0x4EC4DE60189B0000L ^ 0x164A6E88000L ^ 0x6A00000000L ^ 0x47EF3FE000000000L ^ 0x1F49000000000000L ^ 0x25FB040000000000L ^ 0x35E1F86C ^ 0x6B63AF0C6A9C0000L ^ 0x68CDA10000000000L ^ -4250999496747515904L ^ -7133701809754865664L ^ 0x4865130000000000L ^ 0x2FFEEB2A0000000L ^ -5764607523034234880L ^ 0x8F1AD523B000000L ^ 0x87560000000L ^ 0x1E94000000000000L ^ -239286650941734912L ^ -5024187596796854272L ^ 0x794EF20000000000L ^ 0x566C154F862E0000L ^ 0x4B9A019BDF98E100L ^ 0 ^ 0x3378586140L ^ -9066553134481932288L ^ 0x1E46BCE300000000L ^ 0x98F536900000000L;
            if (string.IsNullOrEmpty(SelectedWorldID))
            {
                EvoConsole.Log("WorldID not found");
                return;
            }
            API.Fetch<ApiWorld>(SelectedWorldID, (Action<ApiContainer>)delegate (ApiContainer apiContainer_0)
            {
                SelectedWorld = apiContainer_0.Model.Cast<ApiWorld>();
                if (SelectedWorld != null)
                {
                    NewWorldID = "wrld_" + Guid.NewGuid().ToString();
                    API.Fetch<ApiAvatar>(NewWorldID, (Action<ApiContainer>)delegate
                    {
                        HJII345Y8934(SelectedWorldID);
                    }, (Action<ApiContainer>)delegate
                    {
                        Task.Run(async delegate
                        {
                            try
                            {
                                EvoVrConsole.Log(EvoVrConsole.LogsType.Info, "Downloading Vrcw...");
                                var DownloadPath = await DLWorld(SelectedWorld);
                                if (!string.IsNullOrEmpty(DownloadPath))
                                {
                                    EvoVrConsole.Log(EvoVrConsole.LogsType.Info,"Done");
                                    EvoVrConsole.Log(EvoVrConsole.LogsType.Info, "Uncompressing assetbundle...");
                                    string UncompressedVRCW = await Bundle(DownloadPath);
                                    Evolve.Loaders.OnStart.ConsoleASCII();
                                    EvoVrConsole.Log(EvoVrConsole.LogsType.Info, "Done.");
                                    if (!string.IsNullOrEmpty(UncompressedVRCW))
                                    {
                                        string unityVersion = SelectedWorld.unityVersion.ToLower();
                                        string platform = SelectedWorld.platform.ToLower();
                                        string ApiVersion = SelectedWorld.apiVersion.ToString().ToLower();
                                        if (string.IsNullOrEmpty(ApiVersion)) ApiVersion = "4";
                                        var WorldAsset = "World - " + SelectedWorld.name + " - Asset bundle - " + unityVersion + "_" + ApiVersion + "_" + platform + "_Release";
                                        if (!(await GenID(UncompressedVRCW, NewWorldID, SelectedWorld.id))) EvoVrConsole.Log(EvoVrConsole.LogsType.Info, "Failed :c");
                                        string PackedBundle = await CAB();
                                        if (!string.IsNullOrEmpty(PackedBundle))
                                        {
                                            RegisterAction(delegate
                                            {
                                                EvoVrConsole.Log(EvoVrConsole.LogsType.Info, "Reuploading world...");
                                                string LastProgress = string.Empty;
                                                YoinkUtils.upload(PackedBundle, null, WorldAsset, VRCWSuccessAsync, VRCWFailure, delegate (ApiFile imageBundle, string string_0, string string_1, float Progress)
                                                {
                                                    if (Math.Round(Progress * 100, 0, MidpointRounding.AwayFromZero).ToString() != LastProgress)
                                                    {
                                                        LastProgress = Math.Round(Progress * 100, 0, MidpointRounding.AwayFromZero).ToString();
                                                        EvoVrConsole.Log(EvoVrConsole.LogsType.Info, $"Reupload progress: <color=magenta>{LastProgress}%</color>");
                                                    }
                                                }, (ApiFile File) => false);
                                            });
                                        }
                                        else EvoVrConsole.Log(EvoVrConsole.LogsType.Info, "Failed :c");
                                    }
                                }
                            }
                            catch { }
                        });
                    });
                }
            }, (Action<ApiContainer>)delegate
            {
                EvoVrConsole.Log(EvoVrConsole.LogsType.Info, "Failed :c");
            });
        }

        private static void VRCWSuccessAsync(ApiFile World, string AssetBundle)
        {
            EvoVrConsole.Log(EvoVrConsole.LogsType.Info, "Reuploaded VRCW.");
            WorldAssetBundle = World;
            Task.Run(async delegate
            {
                var Image = await DLImgAsync(SelectedWorld.imageUrl);
                RegisterAction(delegate
                {
                    EvoVrConsole.Log(EvoVrConsole.LogsType.Empty, "=========================================================================================");
                    EvoVrConsole.Log(EvoVrConsole.LogsType.Info, "Reuploading thumbnail...");
                    string LastProgress = string.Empty;
                    YoinkUtils.upload(Image, null, AssetBundle, VRCWSuccess, ImageFailure, delegate (ApiFile world, string ImageUrl, string AssetUrl, float Progress)
                    {
                        if (Math.Round(Progress * 100, 0, MidpointRounding.AwayFromZero).ToString() != LastProgress)
                        {
                            LastProgress = Math.Round(Progress * 100, 0, MidpointRounding.AwayFromZero).ToString();
                            EvoVrConsole.Log(EvoVrConsole.LogsType.Info, $"Image reupload progess: <color=magenta>{LastProgress}%</color>");
                        }
                    }, (ApiFile worlddone) => false);
                });
            });
        }

        private static void VRCWFailure(ApiFile apiFile_2, string notused)
        {
            EvoVrConsole.Log(EvoVrConsole.LogsType.Info, $"Failed reuploading VRCW.");
        }

        private static void VRCWSuccess(ApiFile WorldImage, string notused)
        {
            RegisterAction(delegate
            {
                ReuploadedWorld = new ApiWorld
                {
                    id = NewWorldID,
                    authorName = APIUser.CurrentUser.username,
                    authorId = APIUser.CurrentUser.id,
                    name = SelectedWorld.name,
                    imageUrl = WorldImage.GetFileURL(),
                    assetUrl = WorldAssetBundle.GetFileURL(),
                    description = SelectedWorld.description,
                    releaseStatus = "private"
                };
                ReuploadedWorld.Post((Action<ApiContainer>)VRCWPostSuccess, (Action<ApiContainer>)VRCWPostFailure);
            });
            EvoVrConsole.Log(EvoVrConsole.LogsType.Info, $"Success reuploading VRCW.");
        }

        private static void VRCWPostSuccess(ApiContainer apiContainer_0)
        {
            EvoVrConsole.Log(EvoVrConsole.LogsType.Info, $"<color=#1cfc03>Successfully reuploaded world !</color>");
            Clear();
        }

        private static void VRCWPostFailure(ApiContainer apiContainer_0)
        {
            EvoVrConsole.Log(EvoVrConsole.LogsType.Info, $"Failed reuploading world.");
            Clear();
        }

        private static void Clear()
        {
            try
            {
                DirectoryInfo Directory = new DirectoryInfo(System.IO.Directory.GetCurrentDirectory() + "/Evolve/Yoinker");
                foreach (FileInfo File in Directory.GetFiles())
                {
                    File.Delete();
                }
                foreach (DirectoryInfo Folder in Directory.GetDirectories())
                {
                    Folder.Delete(true);
                }
            }
            catch { }
        }

        public static int F7G98DFG7FDG(byte[] byte_0, byte[] byte_1)
        {
            int num = 0;
            while (true)
            {
                if (num < byte_0.Length - byte_1.Length)
                {
                    bool flag = true;
                    for (int i = 0; i < byte_1.Length; i++)
                    {
                        if (byte_0[num + i] != byte_1[i])
                        {
                            flag = false;
                            break;
                        }
                    }
                    if (flag) break;
                    num++;
                    continue;
                }
                return -1;
            }
            return num;
        }

        private static async Task<bool> GenID(string filepath, string NewID, string OldID)
        {
            await Task.Delay(100);
            try
            {
                var array = File.ReadAllBytes(filepath);
                var bytes = Encoding.ASCII.GetBytes(OldID);
                Encoding.ASCII.GetBytes(OldID.ToLower());
                var bytes2 = Encoding.ASCII.GetBytes(NewID);
                if (!OldID.Contains("avtr_") && !OldID.Contains("wrld_"))
                {
                    EvoConsole.Log("Custom ID found");
                }
                var array2 = new byte[array.Length + bytes2.Length - bytes.Length];
                var array3 = array;
                int num;
                while ((num = F7G98DFG7FDG(array3, bytes)) >= 0)
                {
                    Buffer.BlockCopy(array3, 0, array2, 0, num);
                    Buffer.BlockCopy(bytes2, 0, array2, num, bytes2.Length);
                    Buffer.BlockCopy(array3, num + bytes.Length, array2, num + bytes2.Length, array3.Length - num - bytes.Length);
                    array3 = array2;
                }
                File.WriteAllBytes(filepath, array2);
                EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Overwriting assetbundle...");
                return true;
            }
            catch (Exception ex)
            {
                MelonLogger.Error(ex.ToString());
                return false;
            }
        }

        private static string DLAvi(ApiAvatar apiAvatar_2)
        {
            WebClient wb = new WebClient();
            wb.Headers.Add("User-Agent: Other");
            var bytes = wb.DownloadData(apiAvatar_2.assetUrl);
            var text = Path.Combine(Path.GetTempPath(), Path.GetTempFileName() + ".vrca");
            File.WriteAllBytes(text, bytes);
            return text;
        }

#pragma warning disable CS1998 // Cette méthode async n'a pas d'opérateur 'await' et elle s'exécutera de façon synchrone. Utilisez l'opérateur 'await' pour attendre les appels d'API non bloquants ou 'await Task.Run(…)' pour effectuer un travail utilisant le processeur sur un thread d'arrière-plan.
        private static async Task<string> DLWorld(ApiWorld apiWorld_2)
#pragma warning restore CS1998 // Cette méthode async n'a pas d'opérateur 'await' et elle s'exécutera de façon synchrone. Utilisez l'opérateur 'await' pour attendre les appels d'API non bloquants ou 'await Task.Run(…)' pour effectuer un travail utilisant le processeur sur un thread d'arrière-plan.
        {
            WebClient wb = new WebClient();
            wb.Headers.Add("User-Agent: Other");
            var bytes = wb.DownloadData(apiWorld_2.assetUrl);
            var text = Path.Combine(Path.GetTempPath(), Path.GetTempFileName() + ".vrca");
            File.WriteAllBytes(text, bytes);
            return text;
        }

        private static async Task<string> DLImgAsync(string URL)
        {
            var Client = new HttpClient();
            Client.DefaultRequestHeaders.Add("User-Agent", "Other");
            var Response = await Client.GetAsync(URL);
            byte[] array = await Response.Content.ReadAsByteArrayAsync();
            if (array == null || array.Length == 0) EvoVrConsole.Log(EvoVrConsole.LogsType.Avatar, "Couldn't download thumbnail.");
            string text2 = Path.Combine(Path.GetTempPath(), Path.GetTempFileName() + ".png");
            File.WriteAllBytes(text2, array);
            return text2;
        }

        private static string GetVRCA(string path)
        {
            var result = string.Empty;
            System.Collections.Generic.IEnumerable<string> enumerable = from string_0 in Directory.EnumerateFiles(path + "_dump")
                                                                        select new FileInfo(string_0) into fileInfo_0
                                                                        orderby fileInfo_0.CreationTime
                                                                        select fileInfo_0.FullName;
            if (enumerable.Count() != 1)
            {
                foreach (string item in enumerable)
                {
                    if (string.IsNullOrEmpty(Path.GetExtension(item)))
                    {
                        result = item;
                    }
                }
                return result;
            }
            return enumerable.ElementAt(0);
        }

        public static void Boop(string[] string_21)
        {
            try
            {
                GetUnpackerMethod?.Invoke(null, new object[1]
                {
                    string_21
                });
            }
#pragma warning disable CS0168 // La variable 'ex' est déclarée, mais jamais utilisée
            catch (Exception ex)
#pragma warning restore CS0168 // La variable 'ex' est déclarée, mais jamais utilisée
            {
            }
        }

        private static async Task<string> Bundle(string downloadedpath)
        {
            var No = long.Parse("2173162573851") ^ -1822076715 ^ 0xCCA000000000000L ^ 0x22A7DA944CL ^ -7968319096167071744L ^ -3816365552469803008L ^ 0x48E877F1F3000000L ^ -3805541685128069120L ^ -6026324156323004416L ^ 0x1C2942AACD390000L ^ -2340264320232849408L ^ 0x4230000000000000L ^ 0x3D9CF2DDDA149800L ^ 0x316991CC0L ^ 0 ^ -2145479602233933824L ^ 0x6BBF276000000000L ^ 0 ^ 0x2B98CF5627BC0000L ^ 0x1D2E9628A000000L ^ 0x2FEED00000000000L ^ 0x537F000000000000L ^ -6972949015494792192L ^ 0x6A00000000000000L ^ -279495115381760L ^ 0 ^ 0 ^ 0x269D9 ^ 0 ^ 0 ^ 0x29C1BC8F49000000L ^ 0x26420C4E67000000L ^ 0 ^ 0xBF9CC200000000L ^ 0x50575A0000000000L ^ 0x5EF87EAFC7079000L ^ 0x67909B0000000000L ^ -2319916758049226752L ^ 0x490685E592FC6400L ^ 0xFDBF8 ^ 0 ^ 0x2000000000000000L ^ 0xC0000000u ^ 0x820000 ^ 0 ^ -115975173177344L ^ 0x4922390000000000L ^ 0x578E7ABDF9000000L ^ 0x259AD71700000000L ^ 0x63BB4A0000000L ^ 0x6100000000000000L ^ -5188146770730811392L ^ 0x57FD3E0000000000L ^ -4276730796141707264L ^ -6786001544839371008L ^ 0 ^ 0x5277C5E0D600000L ^ 0 ^ -5941371953334321152L ^ -7540573888590118912L ^ 0x116302D900000000L ^ 0 ^ 0x5400000000000000L ^ -3575858104132173824L ^ 0x436191A723B70000L ^ 0x6891E861A200000L ^ -4611686018427387904L ^ 0x1F2B028600000000L ^ -8745643619089645568L ^ 0 ^ 0x7E0F430000000000L ^ 0x4924000000000L ^ 0x46B7F4BF28D26D00L ^ 0 ^ 0 ^ 0 ^ 0xD894000000L ^ 0x4A4A44376C2A0000L ^ 0 ^ 0x2A52138F90000000L ^ 0 ^ 0x52BC0 ^ 0x39682E22000000L ^ 0xAF7DC00000000L ^ 0x120BCA6F0000L ^ 0x4F034386D1BC0000L ^ 0x160840000000000L ^ 0x789278100D000000L ^ 0x5C054D0E930L ^ -17592186044416L ^ -2830512365802356736L ^ 0x26657C8418F6EFL ^ 0 ^ 0x4C00000000000000L ^ 0x46B0D08388000000L ^ -1209379031510679552L ^ 0 ^ 0x53421C1372000000L ^ 0x355E000000000000L ^ 0 ^ 0x37D128F300000000L ^ 0x30000 ^ 0x14E20C1D62C42800L ^ 0 ^ -8515242394525958144L ^ 0x63286B0000000000L ^ 0x45F9710000000000L ^ 0x40B5B5E9A1380000L ^ 0 ^ 0 ^ 0x46E1980000000000L ^ 0x552E178000000000L ^ 0x7100000000000000L ^ 0 ^ 0 ^ 0x756A490948B0EA00L ^ -4858255253784494080L ^ 0x6800000000000000L ^ 0x1040000000000000L ^ 0x38A2279F00000000L ^ 0 ^ 0 ^ 0x6C1D620000000000L ^ 0x475FF9633600L ^ 0 ^ -977125538244067328L ^ -82522213862559L ^ 0 ^ 0x65C2000000000000L ^ 0 ^ -1326310090260611072L ^ long.MinValue ^ 0x4901000000000000L ^ -8134912768680656896L ^ 0x32119EEDDL ^ 0 ^ 0x1F200000000000L ^ 0 ^ 0 ^ long.MinValue ^ 0x7056860000000000L ^ -2132450025513418752L ^ 0x295ACC538000000L ^ 0 ^ 0x72BFEAFD6C800000L ^ 0x3673E879F51A0000L ^ 0x6C4D000000000000L ^ -1785995011112828928L ^ 0x557E698D8AA28000L ^ 0 ^ 0 ^ 0 ^ 0x2481BAB400000000L ^ 0 ^ 0x229F347CCL ^ -1 ^ 0x2100000000000000L ^ 0x5E23C7EE93780000L ^ 0x43C5F8DE88F89400L ^ -3668643526L ^ 0x4F7D959CAFA20000L ^ 0x1000000000000000L ^ 0x2DC9F0CB8FC60000L ^ 0x5360000000000L ^ 0x39CEA36000000000L ^ 0 ^ -6708111644968353792L ^ 0 ^ 0x3CB438B898220000L ^ 0 ^ 0x530CDCA00EF12100L ^ 0 ^ 0x1AFC460000000000L ^ -8556839292003942400L ^ -8523625244752084992L ^ 0 ^ 0 ^ 0 ^ 0 ^ -102346541645774848L ^ 0x6C00000000000L ^ 0 ^ 0 ^ 0x3A00000000000000L ^ 0x7A40000000000000L ^ 0 ^ 0x150A9A0000L ^ 0x90EBB9BBu ^ -8796093022208L ^ 0x21B39D0000000000L ^ 0 ^ 0x5ADD2ECF5D000000L ^ 0 ^ 0 ^ 0x1D11CC1A4000000L ^ -2864289363007635456L ^ 0x1439FCC7C0000000L ^ 0x887C00000000L ^ 0 ^ -8546673436703850496L ^ 0 ^ 0x55653E3DAF000000L ^ 0x1C1DCB20FEFA5200L ^ 0x3626000000000000L ^ 0x6900000000000000L ^ 0x2A00000000000000L ^ -1637459926619565056L ^ 0x64297DB3 ^ -34468790272L ^ -35184372088832L ^ 0x6D00000000000000L ^ -4611686018427387904L ^ 0x3A8074AC00000000L ^ -215993974035316736L ^ 0x61839C0000000000L ^ 0x35D21362DE1D0000L ^ -6812843387394195456L ^ 0x41A5000000000000L ^ 0x18669D6BFC296200L ^ -1191817827951050752L ^ 0x44BD2F0000000000L ^ 0x1C5D000000000000L ^ 0 ^ 0 ^ 0x169C369637000000L ^ 0 ^ 0x5410975660600000L ^ 0 ^ -1879048192 ^ 0x6100000000000000L ^ 0x188211800000L ^ 0x1537B10000000000L ^ 0 ^ long.MinValue ^ 0xCF193E135000000L ^ 0x3A64A65800000000L ^ 0x775C1B5379000000L ^ 0 ^ 0x24E8000000000000L ^ long.MinValue ^ 0x1A4000000000L ^ 0 ^ -9119789245425254400L ^ 0x3900000000000000L ^ 0 ^ -1029424358575046656L ^ -8285429028383358976L ^ -218296301002752L ^ 0x3F69013CC790000L ^ 0x57FD57248D000000L ^ 0x1A66CAA7640CEA00L ^ 0 ^ 0x2A62DD0000000000L ^ -63350767616L ^ -3381370963363233792L ^ 0x3BB4FD8A00000L ^ -506889355919360000L ^ -4098128227564781568L ^ 0x7720D516CD000000L ^ 0 ^ -204509162766336L ^ 0x38D2CAC662060000L ^ 0x312F2F2800000000L ^ 0 ^ 0xC27EFE ^ -2933944628392493056L ^ 0 ^ -1015596900344135680L ^ 0x7100000000000000L ^ -2483813344364L ^ 0x165CEB0000000000L ^ -8918899510332751872L ^ 0 ^ -1662046838755164160L ^ -6854478632857894912L ^ -1886209865282486272L ^ 0x227074C2C7E40000L ^ 0 ^ -2480561153L ^ 0x236665289F545100L ^ 0x22FD000000000000L ^ -7208292678583189504L ^ 0 ^ 0 ^ 0x8E0000000L ^ -2515566150608224256L ^ long.MinValue ^ 0x6D4B15EC00000000L ^ 0 ^ 0x5C ^ 0x340A8949C3C0000L ^ 0 ^ 0 ^ 0 ^ -6500890165223021312L ^ 0 ^ 0x98F000000000000L ^ 0x596420EC00000000L ^ -103691894492L ^ 0x296C025682D60000L ^ 0x6C1919D2CC000000L ^ -6869221376L ^ -6946316783670263808L ^ 0x5FA2C5C57L ^ -7250736839250100992L ^ 0x2EA767F00000000L ^ -9695232 ^ 0x27E4000000000000L ^ -5856632329836953600L ^ 0x4000000000000000L ^ 0x7C35D88248EE0000L ^ 0 ^ 0x448046F25E300000L ^ 0x87CCB44C000000L ^ -54980231168L ^ 0x3DA9000000000000L ^ 0x3C30000000000000L ^ -5619446959279439872L ^ -806879232 ^ -4375209654595092480L ^ -6649990085934579712L ^ 0x375D22D3B4BF0000L ^ 0x3528F41ECDE80000L ^ 0 ^ 0xB98F27648000000L ^ 0x5D088A0858000000L ^ -4942815240896118784L ^ 0x5F33650000000000L ^ long.MinValue ^ -525805904864L ^ 0x27DCB80000000000L ^ 0 ^ 0x11E8570498000000L ^ 0x747A000000000000L ^ -2377900603251621888L ^ 0x39F0000000L ^ -2738188573441261568L ^ 0x2701194F2CD00000L ^ 0 ^ 0x2CD384C7CB230000L ^ 0xA3FECE5527D5800L ^ -2738188573441261568L ^ 0x1D5C832A0C97CB00L ^ 0x4BA5E72EA5A02L ^ 0x4EC4DE60189B0000L ^ 0x164A6E88000L ^ 0x6A00000000L ^ 0x47EF3FE000000000L ^ 0x1F49000000000000L ^ 0x25FB040000000000L ^ 0x35E1F86C ^ 0x6B63AF0C6A9C0000L ^ 0x68CDA10000000000L ^ -4250999496747515904L ^ -7133701809754865664L ^ 0x4865130000000000L ^ 0x2FFEEB2A0000000L ^ -5764607523034234880L ^ 0x8F1AD523B000000L ^ 0x87560000000L ^ 0x1E94000000000000L ^ -239286650941734912L ^ -5024187596796854272L ^ 0x794EF20000000000L ^ 0x566C154F862E0000L ^ 0x4B9A019BDF98E100L ^ 0 ^ 0x3378586140L ^ -9066553134481932288L ^ 0x1E46BCE300000000L ^ 0x98F536900000000L;
            var AssetBundlePath = string.Empty;
            if (File.Exists(downloadedpath))
            {
                var path = Path.Combine(Yoinker.AssetBundlePath, Path.GetFileName(downloadedpath));
                File.Move(downloadedpath, path);
                if (File.Exists(path))
                {
                    File.Delete(downloadedpath);
                    Boop(new string[1]
                    {
                    path
                    });
                    await Task.Delay(1000);
                    AssetBundlePath = GetVRCA(path);
                    File.Delete(path);
                }
            }
            return AssetBundlePath;
        }

        private static async Task<string> CAB()
        {
            var No = long.Parse("2173162573851") ^ -1822076715 ^ 0xCCA000000000000L ^ 0x22A7DA944CL ^ -7968319096167071744L ^ -3816365552469803008L ^ 0x48E877F1F3000000L ^ -3805541685128069120L ^ -6026324156323004416L ^ 0x1C2942AACD390000L ^ -2340264320232849408L ^ 0x4230000000000000L ^ 0x3D9CF2DDDA149800L ^ 0x316991CC0L ^ 0 ^ -2145479602233933824L ^ 0x6BBF276000000000L ^ 0 ^ 0x2B98CF5627BC0000L ^ 0x1D2E9628A000000L ^ 0x2FEED00000000000L ^ 0x537F000000000000L ^ -6972949015494792192L ^ 0x6A00000000000000L ^ -279495115381760L ^ 0 ^ 0 ^ 0x269D9 ^ 0 ^ 0 ^ 0x29C1BC8F49000000L ^ 0x26420C4E67000000L ^ 0 ^ 0xBF9CC200000000L ^ 0x50575A0000000000L ^ 0x5EF87EAFC7079000L ^ 0x67909B0000000000L ^ -2319916758049226752L ^ 0x490685E592FC6400L ^ 0xFDBF8 ^ 0 ^ 0x2000000000000000L ^ 0xC0000000u ^ 0x820000 ^ 0 ^ -115975173177344L ^ 0x4922390000000000L ^ 0x578E7ABDF9000000L ^ 0x259AD71700000000L ^ 0x63BB4A0000000L ^ 0x6100000000000000L ^ -5188146770730811392L ^ 0x57FD3E0000000000L ^ -4276730796141707264L ^ -6786001544839371008L ^ 0 ^ 0x5277C5E0D600000L ^ 0 ^ -5941371953334321152L ^ -7540573888590118912L ^ 0x116302D900000000L ^ 0 ^ 0x5400000000000000L ^ -3575858104132173824L ^ 0x436191A723B70000L ^ 0x6891E861A200000L ^ -4611686018427387904L ^ 0x1F2B028600000000L ^ -8745643619089645568L ^ 0 ^ 0x7E0F430000000000L ^ 0x4924000000000L ^ 0x46B7F4BF28D26D00L ^ 0 ^ 0 ^ 0 ^ 0xD894000000L ^ 0x4A4A44376C2A0000L ^ 0 ^ 0x2A52138F90000000L ^ 0 ^ 0x52BC0 ^ 0x39682E22000000L ^ 0xAF7DC00000000L ^ 0x120BCA6F0000L ^ 0x4F034386D1BC0000L ^ 0x160840000000000L ^ 0x789278100D000000L ^ 0x5C054D0E930L ^ -17592186044416L ^ -2830512365802356736L ^ 0x26657C8418F6EFL ^ 0 ^ 0x4C00000000000000L ^ 0x46B0D08388000000L ^ -1209379031510679552L ^ 0 ^ 0x53421C1372000000L ^ 0x355E000000000000L ^ 0 ^ 0x37D128F300000000L ^ 0x30000 ^ 0x14E20C1D62C42800L ^ 0 ^ -8515242394525958144L ^ 0x63286B0000000000L ^ 0x45F9710000000000L ^ 0x40B5B5E9A1380000L ^ 0 ^ 0 ^ 0x46E1980000000000L ^ 0x552E178000000000L ^ 0x7100000000000000L ^ 0 ^ 0 ^ 0x756A490948B0EA00L ^ -4858255253784494080L ^ 0x6800000000000000L ^ 0x1040000000000000L ^ 0x38A2279F00000000L ^ 0 ^ 0 ^ 0x6C1D620000000000L ^ 0x475FF9633600L ^ 0 ^ -977125538244067328L ^ -82522213862559L ^ 0 ^ 0x65C2000000000000L ^ 0 ^ -1326310090260611072L ^ long.MinValue ^ 0x4901000000000000L ^ -8134912768680656896L ^ 0x32119EEDDL ^ 0 ^ 0x1F200000000000L ^ 0 ^ 0 ^ long.MinValue ^ 0x7056860000000000L ^ -2132450025513418752L ^ 0x295ACC538000000L ^ 0 ^ 0x72BFEAFD6C800000L ^ 0x3673E879F51A0000L ^ 0x6C4D000000000000L ^ -1785995011112828928L ^ 0x557E698D8AA28000L ^ 0 ^ 0 ^ 0 ^ 0x2481BAB400000000L ^ 0 ^ 0x229F347CCL ^ -1 ^ 0x2100000000000000L ^ 0x5E23C7EE93780000L ^ 0x43C5F8DE88F89400L ^ -3668643526L ^ 0x4F7D959CAFA20000L ^ 0x1000000000000000L ^ 0x2DC9F0CB8FC60000L ^ 0x5360000000000L ^ 0x39CEA36000000000L ^ 0 ^ -6708111644968353792L ^ 0 ^ 0x3CB438B898220000L ^ 0 ^ 0x530CDCA00EF12100L ^ 0 ^ 0x1AFC460000000000L ^ -8556839292003942400L ^ -8523625244752084992L ^ 0 ^ 0 ^ 0 ^ 0 ^ -102346541645774848L ^ 0x6C00000000000L ^ 0 ^ 0 ^ 0x3A00000000000000L ^ 0x7A40000000000000L ^ 0 ^ 0x150A9A0000L ^ 0x90EBB9BBu ^ -8796093022208L ^ 0x21B39D0000000000L ^ 0 ^ 0x5ADD2ECF5D000000L ^ 0 ^ 0 ^ 0x1D11CC1A4000000L ^ -2864289363007635456L ^ 0x1439FCC7C0000000L ^ 0x887C00000000L ^ 0 ^ -8546673436703850496L ^ 0 ^ 0x55653E3DAF000000L ^ 0x1C1DCB20FEFA5200L ^ 0x3626000000000000L ^ 0x6900000000000000L ^ 0x2A00000000000000L ^ -1637459926619565056L ^ 0x64297DB3 ^ -34468790272L ^ -35184372088832L ^ 0x6D00000000000000L ^ -4611686018427387904L ^ 0x3A8074AC00000000L ^ -215993974035316736L ^ 0x61839C0000000000L ^ 0x35D21362DE1D0000L ^ -6812843387394195456L ^ 0x41A5000000000000L ^ 0x18669D6BFC296200L ^ -1191817827951050752L ^ 0x44BD2F0000000000L ^ 0x1C5D000000000000L ^ 0 ^ 0 ^ 0x169C369637000000L ^ 0 ^ 0x5410975660600000L ^ 0 ^ -1879048192 ^ 0x6100000000000000L ^ 0x188211800000L ^ 0x1537B10000000000L ^ 0 ^ long.MinValue ^ 0xCF193E135000000L ^ 0x3A64A65800000000L ^ 0x775C1B5379000000L ^ 0 ^ 0x24E8000000000000L ^ long.MinValue ^ 0x1A4000000000L ^ 0 ^ -9119789245425254400L ^ 0x3900000000000000L ^ 0 ^ -1029424358575046656L ^ -8285429028383358976L ^ -218296301002752L ^ 0x3F69013CC790000L ^ 0x57FD57248D000000L ^ 0x1A66CAA7640CEA00L ^ 0 ^ 0x2A62DD0000000000L ^ -63350767616L ^ -3381370963363233792L ^ 0x3BB4FD8A00000L ^ -506889355919360000L ^ -4098128227564781568L ^ 0x7720D516CD000000L ^ 0 ^ -204509162766336L ^ 0x38D2CAC662060000L ^ 0x312F2F2800000000L ^ 0 ^ 0xC27EFE ^ -2933944628392493056L ^ 0 ^ -1015596900344135680L ^ 0x7100000000000000L ^ -2483813344364L ^ 0x165CEB0000000000L ^ -8918899510332751872L ^ 0 ^ -1662046838755164160L ^ -6854478632857894912L ^ -1886209865282486272L ^ 0x227074C2C7E40000L ^ 0 ^ -2480561153L ^ 0x236665289F545100L ^ 0x22FD000000000000L ^ -7208292678583189504L ^ 0 ^ 0 ^ 0x8E0000000L ^ -2515566150608224256L ^ long.MinValue ^ 0x6D4B15EC00000000L ^ 0 ^ 0x5C ^ 0x340A8949C3C0000L ^ 0 ^ 0 ^ 0 ^ -6500890165223021312L ^ 0 ^ 0x98F000000000000L ^ 0x596420EC00000000L ^ -103691894492L ^ 0x296C025682D60000L ^ 0x6C1919D2CC000000L ^ -6869221376L ^ -6946316783670263808L ^ 0x5FA2C5C57L ^ -7250736839250100992L ^ 0x2EA767F00000000L ^ -9695232 ^ 0x27E4000000000000L ^ -5856632329836953600L ^ 0x4000000000000000L ^ 0x7C35D88248EE0000L ^ 0 ^ 0x448046F25E300000L ^ 0x87CCB44C000000L ^ -54980231168L ^ 0x3DA9000000000000L ^ 0x3C30000000000000L ^ -5619446959279439872L ^ -806879232 ^ -4375209654595092480L ^ -6649990085934579712L ^ 0x375D22D3B4BF0000L ^ 0x3528F41ECDE80000L ^ 0 ^ 0xB98F27648000000L ^ 0x5D088A0858000000L ^ -4942815240896118784L ^ 0x5F33650000000000L ^ long.MinValue ^ -525805904864L ^ 0x27DCB80000000000L ^ 0 ^ 0x11E8570498000000L ^ 0x747A000000000000L ^ -2377900603251621888L ^ 0x39F0000000L ^ -2738188573441261568L ^ 0x2701194F2CD00000L ^ 0 ^ 0x2CD384C7CB230000L ^ 0xA3FECE5527D5800L ^ -2738188573441261568L ^ 0x1D5C832A0C97CB00L ^ 0x4BA5E72EA5A02L ^ 0x4EC4DE60189B0000L ^ 0x164A6E88000L ^ 0x6A00000000L ^ 0x47EF3FE000000000L ^ 0x1F49000000000000L ^ 0x25FB040000000000L ^ 0x35E1F86C ^ 0x6B63AF0C6A9C0000L ^ 0x68CDA10000000000L ^ -4250999496747515904L ^ -7133701809754865664L ^ 0x4865130000000000L ^ 0x2FFEEB2A0000000L ^ -5764607523034234880L ^ 0x8F1AD523B000000L ^ 0x87560000000L ^ 0x1E94000000000000L ^ -239286650941734912L ^ -5024187596796854272L ^ 0x794EF20000000000L ^ 0x566C154F862E0000L ^ 0x4B9A019BDF98E100L ^ 0 ^ 0x3378586140L ^ -9066553134481932288L ^ 0x1E46BCE300000000L ^ 0x98F536900000000L;
            try
            {
                var text = GXMLF();
                if (string.IsNullOrEmpty(text)) return string.Empty;
                var directoryName = Path.GetDirectoryName(Application.dataPath);
                Directory.SetCurrentDirectory(AssetBundlePath);
                Boop(new string[2]
                {
                    text,
                    "lz4hc"
                });
                await Task.Delay(1000);
                Directory.SetCurrentDirectory(directoryName);
                var Compressed = GLZ4HCF();
                if (!string.IsNullOrEmpty(Compressed))
                {
                    int startIndex = Compressed.IndexOf(".LZ4HC");
                    string fileName = Path.GetFileName(Compressed.Remove(startIndex, 6));
                    string destFileName = Path.Combine(AssetBundlePath, fileName);
                    File.Move(Compressed, destFileName);
                    return destFileName;
                }
                return string.Empty;
            }
            catch (Exception ex)
            {
                return string.Empty;
            }
        }

        private static string GXMLF()
        {
            string result = string.Empty;
            System.Collections.Generic.IEnumerable<string> enumerable = from Path in Directory.EnumerateFiles(AssetBundlePath)
                                                                        select new FileInfo(Path) into File
                                                                        orderby File.CreationTime
                                                                        select File.FullName;
            if (enumerable.Any())
            {
                foreach (string item in enumerable)
                {
                    if (item.EndsWith(".xml")) result = item;
                }
                return result;
            }
            return result;
        }

        private static string GLZ4HCF()
        {
            var No = long.Parse("2173162573851") ^ -1822076715 ^ 0xCCA000000000000L ^ 0x22A7DA944CL ^ -7968319096167071744L ^ -3816365552469803008L ^ 0x48E877F1F3000000L ^ -3805541685128069120L ^ -6026324156323004416L ^ 0x1C2942AACD390000L ^ -2340264320232849408L ^ 0x4230000000000000L ^ 0x3D9CF2DDDA149800L ^ 0x316991CC0L ^ 0 ^ -2145479602233933824L ^ 0x6BBF276000000000L ^ 0 ^ 0x2B98CF5627BC0000L ^ 0x1D2E9628A000000L ^ 0x2FEED00000000000L ^ 0x537F000000000000L ^ -6972949015494792192L ^ 0x6A00000000000000L ^ -279495115381760L ^ 0 ^ 0 ^ 0x269D9 ^ 0 ^ 0 ^ 0x29C1BC8F49000000L ^ 0x26420C4E67000000L ^ 0 ^ 0xBF9CC200000000L ^ 0x50575A0000000000L ^ 0x5EF87EAFC7079000L ^ 0x67909B0000000000L ^ -2319916758049226752L ^ 0x490685E592FC6400L ^ 0xFDBF8 ^ 0 ^ 0x2000000000000000L ^ 0xC0000000u ^ 0x820000 ^ 0 ^ -115975173177344L ^ 0x4922390000000000L ^ 0x578E7ABDF9000000L ^ 0x259AD71700000000L ^ 0x63BB4A0000000L ^ 0x6100000000000000L ^ -5188146770730811392L ^ 0x57FD3E0000000000L ^ -4276730796141707264L ^ -6786001544839371008L ^ 0 ^ 0x5277C5E0D600000L ^ 0 ^ -5941371953334321152L ^ -7540573888590118912L ^ 0x116302D900000000L ^ 0 ^ 0x5400000000000000L ^ -3575858104132173824L ^ 0x436191A723B70000L ^ 0x6891E861A200000L ^ -4611686018427387904L ^ 0x1F2B028600000000L ^ -8745643619089645568L ^ 0 ^ 0x7E0F430000000000L ^ 0x4924000000000L ^ 0x46B7F4BF28D26D00L ^ 0 ^ 0 ^ 0 ^ 0xD894000000L ^ 0x4A4A44376C2A0000L ^ 0 ^ 0x2A52138F90000000L ^ 0 ^ 0x52BC0 ^ 0x39682E22000000L ^ 0xAF7DC00000000L ^ 0x120BCA6F0000L ^ 0x4F034386D1BC0000L ^ 0x160840000000000L ^ 0x789278100D000000L ^ 0x5C054D0E930L ^ -17592186044416L ^ -2830512365802356736L ^ 0x26657C8418F6EFL ^ 0 ^ 0x4C00000000000000L ^ 0x46B0D08388000000L ^ -1209379031510679552L ^ 0 ^ 0x53421C1372000000L ^ 0x355E000000000000L ^ 0 ^ 0x37D128F300000000L ^ 0x30000 ^ 0x14E20C1D62C42800L ^ 0 ^ -8515242394525958144L ^ 0x63286B0000000000L ^ 0x45F9710000000000L ^ 0x40B5B5E9A1380000L ^ 0 ^ 0 ^ 0x46E1980000000000L ^ 0x552E178000000000L ^ 0x7100000000000000L ^ 0 ^ 0 ^ 0x756A490948B0EA00L ^ -4858255253784494080L ^ 0x6800000000000000L ^ 0x1040000000000000L ^ 0x38A2279F00000000L ^ 0 ^ 0 ^ 0x6C1D620000000000L ^ 0x475FF9633600L ^ 0 ^ -977125538244067328L ^ -82522213862559L ^ 0 ^ 0x65C2000000000000L ^ 0 ^ -1326310090260611072L ^ long.MinValue ^ 0x4901000000000000L ^ -8134912768680656896L ^ 0x32119EEDDL ^ 0 ^ 0x1F200000000000L ^ 0 ^ 0 ^ long.MinValue ^ 0x7056860000000000L ^ -2132450025513418752L ^ 0x295ACC538000000L ^ 0 ^ 0x72BFEAFD6C800000L ^ 0x3673E879F51A0000L ^ 0x6C4D000000000000L ^ -1785995011112828928L ^ 0x557E698D8AA28000L ^ 0 ^ 0 ^ 0 ^ 0x2481BAB400000000L ^ 0 ^ 0x229F347CCL ^ -1 ^ 0x2100000000000000L ^ 0x5E23C7EE93780000L ^ 0x43C5F8DE88F89400L ^ -3668643526L ^ 0x4F7D959CAFA20000L ^ 0x1000000000000000L ^ 0x2DC9F0CB8FC60000L ^ 0x5360000000000L ^ 0x39CEA36000000000L ^ 0 ^ -6708111644968353792L ^ 0 ^ 0x3CB438B898220000L ^ 0 ^ 0x530CDCA00EF12100L ^ 0 ^ 0x1AFC460000000000L ^ -8556839292003942400L ^ -8523625244752084992L ^ 0 ^ 0 ^ 0 ^ 0 ^ -102346541645774848L ^ 0x6C00000000000L ^ 0 ^ 0 ^ 0x3A00000000000000L ^ 0x7A40000000000000L ^ 0 ^ 0x150A9A0000L ^ 0x90EBB9BBu ^ -8796093022208L ^ 0x21B39D0000000000L ^ 0 ^ 0x5ADD2ECF5D000000L ^ 0 ^ 0 ^ 0x1D11CC1A4000000L ^ -2864289363007635456L ^ 0x1439FCC7C0000000L ^ 0x887C00000000L ^ 0 ^ -8546673436703850496L ^ 0 ^ 0x55653E3DAF000000L ^ 0x1C1DCB20FEFA5200L ^ 0x3626000000000000L ^ 0x6900000000000000L ^ 0x2A00000000000000L ^ -1637459926619565056L ^ 0x64297DB3 ^ -34468790272L ^ -35184372088832L ^ 0x6D00000000000000L ^ -4611686018427387904L ^ 0x3A8074AC00000000L ^ -215993974035316736L ^ 0x61839C0000000000L ^ 0x35D21362DE1D0000L ^ -6812843387394195456L ^ 0x41A5000000000000L ^ 0x18669D6BFC296200L ^ -1191817827951050752L ^ 0x44BD2F0000000000L ^ 0x1C5D000000000000L ^ 0 ^ 0 ^ 0x169C369637000000L ^ 0 ^ 0x5410975660600000L ^ 0 ^ -1879048192 ^ 0x6100000000000000L ^ 0x188211800000L ^ 0x1537B10000000000L ^ 0 ^ long.MinValue ^ 0xCF193E135000000L ^ 0x3A64A65800000000L ^ 0x775C1B5379000000L ^ 0 ^ 0x24E8000000000000L ^ long.MinValue ^ 0x1A4000000000L ^ 0 ^ -9119789245425254400L ^ 0x3900000000000000L ^ 0 ^ -1029424358575046656L ^ -8285429028383358976L ^ -218296301002752L ^ 0x3F69013CC790000L ^ 0x57FD57248D000000L ^ 0x1A66CAA7640CEA00L ^ 0 ^ 0x2A62DD0000000000L ^ -63350767616L ^ -3381370963363233792L ^ 0x3BB4FD8A00000L ^ -506889355919360000L ^ -4098128227564781568L ^ 0x7720D516CD000000L ^ 0 ^ -204509162766336L ^ 0x38D2CAC662060000L ^ 0x312F2F2800000000L ^ 0 ^ 0xC27EFE ^ -2933944628392493056L ^ 0 ^ -1015596900344135680L ^ 0x7100000000000000L ^ -2483813344364L ^ 0x165CEB0000000000L ^ -8918899510332751872L ^ 0 ^ -1662046838755164160L ^ -6854478632857894912L ^ -1886209865282486272L ^ 0x227074C2C7E40000L ^ 0 ^ -2480561153L ^ 0x236665289F545100L ^ 0x22FD000000000000L ^ -7208292678583189504L ^ 0 ^ 0 ^ 0x8E0000000L ^ -2515566150608224256L ^ long.MinValue ^ 0x6D4B15EC00000000L ^ 0 ^ 0x5C ^ 0x340A8949C3C0000L ^ 0 ^ 0 ^ 0 ^ -6500890165223021312L ^ 0 ^ 0x98F000000000000L ^ 0x596420EC00000000L ^ -103691894492L ^ 0x296C025682D60000L ^ 0x6C1919D2CC000000L ^ -6869221376L ^ -6946316783670263808L ^ 0x5FA2C5C57L ^ -7250736839250100992L ^ 0x2EA767F00000000L ^ -9695232 ^ 0x27E4000000000000L ^ -5856632329836953600L ^ 0x4000000000000000L ^ 0x7C35D88248EE0000L ^ 0 ^ 0x448046F25E300000L ^ 0x87CCB44C000000L ^ -54980231168L ^ 0x3DA9000000000000L ^ 0x3C30000000000000L ^ -5619446959279439872L ^ -806879232 ^ -4375209654595092480L ^ -6649990085934579712L ^ 0x375D22D3B4BF0000L ^ 0x3528F41ECDE80000L ^ 0 ^ 0xB98F27648000000L ^ 0x5D088A0858000000L ^ -4942815240896118784L ^ 0x5F33650000000000L ^ long.MinValue ^ -525805904864L ^ 0x27DCB80000000000L ^ 0 ^ 0x11E8570498000000L ^ 0x747A000000000000L ^ -2377900603251621888L ^ 0x39F0000000L ^ -2738188573441261568L ^ 0x2701194F2CD00000L ^ 0 ^ 0x2CD384C7CB230000L ^ 0xA3FECE5527D5800L ^ -2738188573441261568L ^ 0x1D5C832A0C97CB00L ^ 0x4BA5E72EA5A02L ^ 0x4EC4DE60189B0000L ^ 0x164A6E88000L ^ 0x6A00000000L ^ 0x47EF3FE000000000L ^ 0x1F49000000000000L ^ 0x25FB040000000000L ^ 0x35E1F86C ^ 0x6B63AF0C6A9C0000L ^ 0x68CDA10000000000L ^ -4250999496747515904L ^ -7133701809754865664L ^ 0x4865130000000000L ^ 0x2FFEEB2A0000000L ^ -5764607523034234880L ^ 0x8F1AD523B000000L ^ 0x87560000000L ^ 0x1E94000000000000L ^ -239286650941734912L ^ -5024187596796854272L ^ 0x794EF20000000000L ^ 0x566C154F862E0000L ^ 0x4B9A019BDF98E100L ^ 0 ^ 0x3378586140L ^ -9066553134481932288L ^ 0x1E46BCE300000000L ^ 0x98F536900000000L;
            string result = string.Empty;
            System.Collections.Generic.IEnumerable<string> enumerable = from Path in Directory.EnumerateFiles(AssetBundlePath)
                                                                        select new FileInfo(Path) into File
                                                                        orderby File.CreationTime
                                                                        select File.FullName;
            if (enumerable.Any())
            {
                foreach (string item in enumerable)
                {
                    if (item.EndsWith(".LZ4HC")) result = item;
                }
                return result;
            }
            return result;
        }
    }
}